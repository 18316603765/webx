# 部署环境管理问题 {#concept_662581 .concept}

本文罗列了部署环境相关的常见问题。

## 部署环境释放的策略是怎样的？ {#section_ywa_tvd_ke9 .section}

当一个部署环境释放时，Web+会解绑或释放该环境所拥有的资源。解绑即为该环境不再使用相应资源；而释放则是Web+会调用阿里云相应服务为您释放掉不再需要的资源，以避免扣费。Web+会对不同的资源采取不同的动作，下面罗列了不同资源在部署环境释放时的不同行为。

-   **VPC和VSwitch** 

    Web+会解绑部署环境中的VPC和VSwitch，但不会释放VPC和VSwitch。

-   **ECS实例** 

    Web+默认采用停机不收费（recycle）模式。

    -   如果您的ECS实例使用停机不收费（recycle）模式，那么在释放部署环境时，部署环境中的ECS实例会停机不收费。您可以登录[ECS控制台](https://ecs.console.aliyun.com)对释放的ECS实例进行后续管理操作。

        **说明：** 使用停机不收费功能时，vCPU、内存和公网IP将不再产生费用，但云盘仍将计费。

    -   如果您的ECS实例使用释放（release）模式，那么在释放环境时，Web+会为您自动释放ECS。
-   **默认安全组** 
    -   如果您的ECS实例使用停机不收费（recycle）模式，由于实例仍然存在并且关联了环境的默认安全组，因此Web+无法释放安全组，您可以后续登录[ECS控制台](https://ecs.console.aliyun.com)对安全组进行操作。
    -   如果您的ECS实例使用释放（release）模式，那么在释放环境时，Web+会释放安全组。
-   **SLB** 
    -   如果环境中的SLB属于您在Web+系统之外创建的SLB，那么在环境释放时，Web+只会解绑SLB，不会释放SLB。
    -   如果环境中的SLB为Web+创建的SLB，那么Web+会同时检查该SLB是否有其他服务或环境配置的监听、转发规则和机器，如均没有那么Web+会释放SLB，否则只会解绑SLB。

## 缩容到0个ECS实例的应用场景有哪些？ {#section_pa7_4ym_jj6 .section}

缩容到0个ECS实例的应用场景罗列如下：

-   当前环境中有SLB和ECS，希望保留SLB（及其公网地址），但暂不需要ECS。
-   当前ECS操作系统已经被人为损坏，希望重置ECS，那么可以先缩容到0个实例，然后再扩容。

## 扩容会自动添加SLB，但缩容为什么不会自动释放 SLB？ {#section_d9l_rrr_dt5 .section}

首先，如果环境中的SLB属于您在Web+系统之外创建的SLB，那么在环境释放时，Web+仅仅进行解绑，不会进行释放；

其次，如果环境中的SLB为Web+创建的SLB，那么Web+为了尽量不影响您的业务，会在释放环境时检查该SLB是否有其他服务或环境配置的监听、转发规则和机器，如均没有那么Web+才会进行SLB释放，否则仅仅解绑SLB。

## 健康检查没有通过怎么办？ {#section_28z_oma_1nx .section}

1.  请检查程序包是否合法。
2.  请检查应用启动的端口与健康检查URL是否匹配。

